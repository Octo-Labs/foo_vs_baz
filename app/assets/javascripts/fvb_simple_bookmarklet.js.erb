//= require easymarklet/simple

(function(){
  
  var FvbSimpleBookmarklet = {
    css : ['/assets/fvb_simple_bookmarklet.css'], // could be an array or a single string
    init : function(full_host){
      full_host = full_host == undefined ? '' : full_host
      var div = document.createElement('div')
      div.id = 'fvb_simple_insert'

      var frame = document.createElement('div')
      frame.id = 'fvb_simple_frame'
      div.appendChild(frame)

     
      var logo_text = '<div id="logo_bar"><div id="logo_frame"><div id="badge"><span id="foo">Foo</span><span id="vs">vs.</span><span id="baz">Baz</span></div></div></div>';
      frame.innerHTML = logo_text;

      var content = document.createElement('div')
      content.id = 'fvb_simple_content'
      frame.appendChild(content)

      var go = document.createElement('a')
      go.appendChild(document.createTextNode('Vote on the Foo V Baz status of this page.'))
      go.onclick = function(){
        var dest = full_host + "/pages/new?url=" + encodeURIComponent(document.location)
        document.location = dest;
      }

      var no = document.createElement('a')
      no.appendChild(document.createTextNode('Nevermind.'))
      no.onclick = function(){
        document.body.removeChild(div);
      }

      content.appendChild(go)
      content.appendChild(no)
      document.body.appendChild(div);
    }
  }
  
  window.FvbSimpleBookmarklet = FvbSimpleBookmarklet;

})();

var fvb_simple_simple = new Easymarklet.Simple(FvbSimpleBookmarklet);
fvb_simple_simple.init();

